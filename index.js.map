{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\nimport axios from 'axios';\n\nconst PIXABAY_KEY = '53373379-a0adfea61f6f24f47cc9d7e62';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function getImagesByQuery(query) {\n  const params = {\n    key: PIXABAY_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  };\n\n  const response = await axios.get(BASE_URL, { params });\n  return response.data.hits;\n}\n\n","\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nlet lightbox;\n\nexport function showLoader() {\n    loader.classList.remove('is-hidden');\n}\n\nexport function hideLoader() {\n    loader.classList.add('is-hidden');\n}\n\nexport function clearGallery() {\n    gallery.innerHTML = '';\n}\n\nexport function createGallery(images) {\n    const markup = images\n        .map(image => {\n            return `\n                <li class=\"gallery-item\">\n                    <a href=\"${image.largeImageURL}\" class=\"gallery-link\">\n                        <img\n                            src=\"${image.webformatURL}\"\n                            alt=\"${image.tags}\"\n                            class=\"gallery-image\"\n                        >\n                    </a>\n                    <div class=\"info-box\">\n                        <p class=\"info-item\"><b>Likes</b> ${image.likes}</p>\n                        <p class=\"info-item\"><b>Views</b> ${image.views}</p>\n                        <p class=\"info-item\"><b>Comments</b> ${image.comments}</p>\n                        <p class=\"info-item\"><b>Downloads</b> ${image.downloads}</p>\n                    </div>\n                </li>\n            `;\n        })\n        .join('');\n    gallery.insertAdjacentHTML('beforeend', markup);\n\n    if (!lightbox) {\n        lightbox = new SimpleLightbox('.gallery a', {\n            captionsData: 'alt',\n            captionDelay: 250,\n        });\n    } else {\n        lightbox.refresh();\n    }\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { getImagesByQuery } from './js/pixabay-api.js';\n\nimport {\n  clearGallery,\n  createGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions.js';\n\nconst searchForm = document.querySelector('.form');\nconst searchInput = document.querySelector('input[name=\"search-text\"]');\n\nsearchForm.addEventListener('submit', onSearch);\n\nfunction onSearch(event) {\n  event.preventDefault();\n\n  const query = searchInput.value.trim();\n\n  if (!query) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search term!',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  clearGallery();\n  showLoader();\n\n  getImagesByQuery(query)\n    .then(images => {\n      if (images.length === 0) {\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n      } else {\n        createGallery(images);\n      }\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: 'Something went wrong. Please try again later.',\n        position: 'topRight',\n      });\n      console.error(error);\n    })\n    .finally(() => {\n      hideLoader();\n      searchInput.value = '';\n    });\n}\n"],"names":["PIXABAY_KEY","BASE_URL","getImagesByQuery","query","params","axios","gallery","loader","lightbox","showLoader","hideLoader","clearGallery","createGallery","images","markup","image","SimpleLightbox","searchForm","searchInput","onSearch","event","iziToast","error"],"mappings":"+vBAGA,MAAMA,EAAc,qCACdC,EAAW,2BAEV,eAAeC,EAAiBC,EAAO,CAC5C,MAAMC,EAAS,CACb,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EAGE,OADiB,MAAME,EAAM,IAAIJ,EAAU,CAAE,OAAAG,EAAQ,GACrC,KAAK,IACvB,CCbA,MAAME,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAC/C,IAAIC,EAEG,SAASC,GAAa,CACzBF,EAAO,UAAU,OAAO,WAAW,CACvC,CAEO,SAASG,GAAa,CACzBH,EAAO,UAAU,IAAI,WAAW,CACpC,CAEO,SAASI,GAAe,CAC3BL,EAAQ,UAAY,EACxB,CAEO,SAASM,EAAcC,EAAQ,CAClC,MAAMC,EAASD,EACV,IAAIE,GACM;AAAA;AAAA,+BAEYA,EAAM,aAAa;AAAA;AAAA,mCAEfA,EAAM,YAAY;AAAA,mCAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,4DAKeA,EAAM,KAAK;AAAA,4DACXA,EAAM,KAAK;AAAA,+DACRA,EAAM,QAAQ;AAAA,gEACbA,EAAM,SAAS;AAAA;AAAA;AAAA,aAItE,EACA,KAAK,EAAE,EACZT,EAAQ,mBAAmB,YAAaQ,CAAM,EAEzCN,EAMDA,EAAS,QAAO,EALhBA,EAAW,IAAIQ,EAAe,aAAc,CACxC,aAAc,MACd,aAAc,GAC1B,CAAS,CAIT,CCxCA,MAAMC,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAc,SAAS,cAAc,2BAA2B,EAEtED,EAAW,iBAAiB,SAAUE,CAAQ,EAE9C,SAASA,EAASC,EAAO,CACvBA,EAAM,eAAc,EAEpB,MAAMjB,EAAQe,EAAY,MAAM,KAAI,EAEpC,GAAI,CAACf,EAAO,CACVkB,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8BACT,SAAU,UAChB,CAAK,EACD,MACF,CAEAV,EAAY,EACZF,EAAU,EAEVP,EAAiBC,CAAK,EACnB,KAAKU,GAAU,CACVA,EAAO,SAAW,EACpBQ,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,UACpB,CAAS,EAEDT,EAAcC,CAAM,CAExB,CAAC,EACA,MAAMS,GAAS,CACdD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gDACT,SAAU,UAClB,CAAO,EACD,QAAQ,MAAMC,CAAK,CACrB,CAAC,EACA,QAAQ,IAAM,CACbZ,EAAU,EACVQ,EAAY,MAAQ,EACtB,CAAC,CACL"}